# üè¶ Bank App

–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ Java 21 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Boot –∏ Clean Architecture. –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Å—á–µ—Ç–∞–º–∏
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏
- –í–µ–¥–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ JWT
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–≤ –±—É–¥—É—â–µ–º)

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Java 21
- Spring Boot
- Spring Security
- Spring Data JPA
- PostgreSQL
- Gradle
- Docker (–≤ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ)
- Clean Architecture

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture:
- Domain ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å—É—â–Ω–æ—Å—Ç–∏
- Application ‚Äî DTO, use cases, —Å–µ—Ä–≤–∏—Å—ã
- Infrastructure ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫–æ–Ω—Ñ–∏–≥–∏
- Presentation ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

## üìÇ –ú–æ–¥—É–ª–∏ (–±—É–¥—É—â–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã)

- User Service (:8083)
- Account Service ()
- Transaction Service ()
- Notification Service ()
- Audit Service ()
- KYC Service ()
- Loan Service ()
- Fraud Detection ()
- Security (SOWA-lite) (:8085)
- API Gateway ()

## –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SpotBugs –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞.
### –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
–î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
bash:
./gradlew spotbugsMain

## Health Check Endpoints

- `/actuator/health` ‚Äî –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
- `/actuator/health/liveness` ‚Äî —Å–µ—Ä–≤–∏—Å –∂–∏–≤
- `/actuator/health/readiness` ‚Äî —Å–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤ –∫ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é

# –ê—Å–ø–µ–∫—Ç –∞—É–¥–∏—Ç–∞
### –û–ø–∏—Å–∞–Ω–∏–µ
–ê—Å–ø–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- CREATE_ACCOUNT
- CHANGE_PASSWORD

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–î–æ–±–∞–≤—å—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Auditable(action = "...")` –∫ –Ω—É–∂–Ω–æ–º—É –º–µ—Ç–æ–¥—É.

### –§–æ—Ä–º–∞—Ç —Å–æ–±—ã—Ç–∏—è
```json
{
  "action": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞",
  "timestamp": "2025-06-27T16:00:00",
  "username": "user@example.com",
  "parameters": "param1, 123",
  "status": "SUCCESS"
}

## üß≠ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤](./docs/scheme_bank.png)



üåâ API Gateway ‚Äî —ç—Ç–æ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤–æ –≤—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã.
üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫–æ –≤—Å–µ–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
–ü—Ä–æ–±—Ä–æ—Å –≤—Å–µ—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (–≤ —Ç–æ–º —á–∏—Å–ª–µ Authorization)
–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CORS –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–∫—Å–∏—Ä—É–µ–º—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª—å
–õ—ë–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —á–µ—Ä–µ–∑ application.yml
–û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8765)



üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å API Gateway:
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ docker compose



‚öôÔ∏è –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç:
–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª:
api-gateway/src/main/resources/application.yml



–î–æ–±–∞–≤—å –Ω–æ–≤—ã–π –±–ª–æ–∫ –¥–ª—è —Å–≤–æ–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –ø–æ —à–∞–±–ª–æ–Ω—É:
spring:
  cloud:
    gateway:
      routes:
        - id: your-service-name
          uri: http://localhost:808X
          predicates:
            - Path=/api/your-service/**
          filters:
            - StripPrefix=2
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Gateway –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.



üîí CORS –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –≤–∫–ª—é—á–∞—è Authorization, –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.


CORS –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å allowedOrigins.



## üìö Wiki-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞


- [–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏](https://gitlab.com/katacademy-group/banking-projects/bank-app/-/wikis/layer-module-communication)

- [–ö–æ–¥—Å—Ç–∞–π–ª](https://gitlab.com/katacademy-group/banking-projects/bank-app/-/wikis/code-style-guide)

- [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://gitlab.com/katacademy-group/banking-projects/bank-app/-/wikis/setup-before-cloning)

–∏ –¥—Ä—É–≥–∏–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
/gradlew clean build
docker compose build
docker compose up
